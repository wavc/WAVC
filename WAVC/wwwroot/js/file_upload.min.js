var overlay,overlayText,filesInput,entered=0;function StartedDragging(e){1==++entered&&(overlay.classList.add("drag_entered"),overlayText.classList.remove("hide_element"))}function PreventOpen(e){e.preventDefault()}function EndedDragging(e){0==--entered&&(overlay.classList.remove("drag_entered"),overlayText.classList.add("hide_element"))}function Dropped(e){PreventOpen(e),EndedDragging(e),filesInput.files=e.dataTransfer.files,filesInput.dispatchEvent(new Event("change"))}function FilesChanged(){for(var e=0,n=0;n<filesInput.files.length;n++)e+=filesInput.files[n].size;console.log(e);var t=document.getElementById("form"),d=document.getElementById("progress"),r=new XMLHttpRequest;r.upload.addEventListener("progress",n=>d.value=100*n.loaded/e),r.open("POST","/Upload/Upload"),r.send(new FormData(t))}window.onload=(()=>{overlay=document.getElementById("overlay"),overlayText=document.getElementById("overlay_text"),filesInput=document.getElementById("files"),document.body.addEventListener("dragenter",StartedDragging),document.body.addEventListener("dragleave",EndedDragging),document.body.addEventListener("dragover",PreventOpen),document.body.addEventListener("drop",Dropped),filesInput.addEventListener("change",FilesChanged)});